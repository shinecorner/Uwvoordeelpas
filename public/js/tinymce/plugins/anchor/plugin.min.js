tinymce.PluginManager.add("anchor",function(e){function n(){var n=e.selection.getNode(),o="",t="A"==n.tagName&&""===e.dom.getAttrib(n,"href");t&&(o=n.name||n.id||""),e.windowManager.open({title:"Anchor",body:{type:"textbox",name:"name",size:40,label:"Name",value:o},onsubmit:function(o){var a=o.data.name;t?n.id=a:(e.selection.collapse(!0),e.execCommand("mceInsertContent",!1,e.dom.createHTML("a",{id:a})))}})}e.addCommand("mceAnchor",n),e.addButton("anchor",{icon:"anchor",tooltip:"Anchor",onclick:n,stateSelector:"a:not([href])"}),e.addMenuItem("anchor",{icon:"anchor",text:"Anchor",context:"insert",onclick:n})});